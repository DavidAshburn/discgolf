<% if user_signed_in? %>
  <%= render 'layouts/nav' %>
<% end %>
<div class="card w-80">
  <h1 class="card-header text-center"><%= @course.name %></h5>
  <div class="card-body">
    <h5 class="card-title text-center text-muted"><%= " #{@course.city}, #{@course.state} " %></h5>

    <table class="table table-sm">
      <tbody>
      <% @course.variants.each do |variant| %>
        <div class="row">
          <div class="col-5">
              <%= link_to variant.name, edit_variant_path(variant.id, :course_id => @course.id), class:"btn btn-success text-nowrap" %>
          </div>
          <div class="col-5">
              <%= link_to "Play a Round", new_card_path( variant_id: variant.id, length: variant.length ), class:"btn btn-warning" %>
          </div>
        </div>
        <% if variant.pars %>
          <% parset = variant.pars.split('') %>
          <div class="row">
            <% (0..8).each do |i| %>
              <div class="col"><%= parset[i] %></div>
            <% end %>
          </div>
          <% if variant.length == 18 %>
            <div class="row">
              <% (9..17).each do |i| %>
                <div class="col"><%= parset[i] %></div>
              <% end %>
            </div>
          <% end %>
        <% end %>




      <% end %>
      </tbody>
    </table>
    <br>

    <div class="row">
      <div class="d-grid gap-2">
        <%= link_to "Add a 9 Hole", new_variant_path(:course_id => @course.id, :length => '9'), class:"btn btn-outline-success mb-3" %>
        <%= link_to "Add an 18 Hole", new_variant_path(:course_id => @course.id, :length => '18'), class:"btn btn-outline-success mb-3" %>
        <%= link_to "Edit this course", edit_course_path, class:"btn btn-outline-warning mb-3" %>
        <%= link_to "Course list", courses_path, class:"btn btn-outline-dark mb-3" %>
      </div>
      <div class="col align-self-end">
        <%= button_to "Delete", @course, method: :delete, class:"btn btn-outline-danger" %>
      </div>
    </div>
  </div>
</div>